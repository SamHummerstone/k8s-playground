<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>üç™ Cookie Clicker (Go + Redis)</title>
    <style>
        body {font-family: Arial, Helvetica, sans-serif; text-align:center; margin-top:50px;}
        #counter {font-size: 2rem; margin: 20px;}
        button {font-size: 1.5rem; padding: 10px 20px; cursor:pointer;}
    </style>
</head>
<body>
    <h1>Cookie Clicker</h1>
    <div id="counter">Loading‚Ä¶</div>
    <button id="clickBtn">üç™ Click Me!</button>

    <script>
        const counterEl = document.getElementById('counter');
        const btn = document.getElementById('clickBtn');

        async function fetchCount() {
            const res = await fetch('/api/count');
            const data = await res.json();
            counterEl.textContent = `Clicks: ${data.count}`;
        }

        async function increment() {
            const res = await fetch('/api/count', {method: 'POST'});
            const data = await res.json();
            counterEl.textContent = `Clicks: ${data.count}`;
        }

        btn.addEventListener('click', increment);
        // Initial load
        fetchCount();
        // Optional: poll every 5‚ÄØseconds to stay in sync with other browsers
        setInterval(fetchCount, 5000);
    </script>
</body>
</html>